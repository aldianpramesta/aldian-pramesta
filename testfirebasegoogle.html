// verified
<!DOCTYPE html>
<html>
<head>
  <title>Test Login Google</title>
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js"></script>
</head>
<body>
  <h2>Login dengan Google</h2>
  <button onclick="login()">Login</button>

  <script type="module">
  // Import dari CDN
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
  import { getAuth, signInWithPopup, GoogleAuthProvider, signOut } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDAjJ-_jTNh7HucY66o1A6PZh-ohrpETVY",
    authDomain: "temter-df972.firebaseapp.com",
    projectId: "temter-df972",
    storageBucket: "temter-df972.firebasestorage.app",
    messagingSenderId: "224267552779",
    appId: "1:224267552779:web:99d8e441a9b019950f1f0e",
    measurementId: "G-CNYXFR6RKF"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const provider = new GoogleAuthProvider();

  const whitelist = ["aldianpramesta@gmail.com", "email2@gmail.com"];

  window.login = function() {
    signInWithPopup(auth, provider)
      .then((result) => {
        const email = result.user.email;
        if (whitelist.includes(email)) {
          alert("Selamat datang! Anda punya akses.");
          window.location.href = ".html";
        } else {
          alert("Maaf, Anda belum diberi akses.");
          signOut(auth);
        }
      })
      .catch((error) => {
        console.error("Login error", error);
      });
  };
</script>
</body>
</html>
